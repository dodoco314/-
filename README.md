🎬 映画レコメンデーションシステム
ユーザーが選択した好きな映画に基づいて、おすすめの映画を提案するWebアプリケーションです。

1. 採用したレコメンデーションアルゴリズムと理由
本プロジェクトでは、状況に応じて2つの異なるアルゴリズムを使い分けています。

映画選択時：k近傍法（k-Nearest Neighbors / k-NN）
内容: ユーザーが選んだ映画に対し、コサイン類似度を用いて「他のユーザーの評価傾向が似ている映画」を算出します。

理由: アイテムベースの協調フィルタリングを採用することで、ユーザーの具体的な好みに基づいた、関連性の高い推薦が可能になるためです。

技術的工夫: 膨大な評価データを効率よく処理するため、scipy の csr_matrix（疎行列）を使用してメモリ消費を抑え、計算を高速化しています。

未選択・選択不足時：ポピュラリティベース（人気度による推薦）
内容: データセット全体で評価数が一定（50件）以上あり、かつ平均評価が高い映画を抽出します。

理由: ユーザーの好みが入力されていない状態（コールドスタート問題）でも、信頼性の高い「名作」を提案することで、ユーザー体験（UX）を損なわないようにするためです。

2. 処理ロジックの内容
「オススメ映画を表示」ボタンが押下されてから、画面に結果が表示されるまでのロジックは以下の通りです。

データの送受信:

フロントエンド（JavaScript）でユーザーが選択した映画IDをリスト化し、Flaskの /recommend エンドポイントへPOSTリクエストを送信します。

3つの映画情報の扱い（重要ポイント）:

サーバー側では、受け取った3つの映画IDそれぞれについて、個別にk-NNモデルで類似映画を10件ずつ抽出します。

結果の最適化:

3つの映画から得られた合計30件の候補から、重複する映画を削除します。

重複を除いたリストの先頭から5件を、最終的な推薦結果として決定します。

これによって、複数の好きな映画の傾向をバランスよく反映したレコメンドを実現しています。

動的レンダリング:

計算結果をJSON形式でフロントエンドに返し、JavaScriptでHTML要素を動的に生成・表示します。

3. 起動手順
必要なインストール作業
以下のコマンドを実行して、必要なライブラリをインストールしてください。

Bash

pip install flask pandas scikit-learn scipy
データの配置
プロジェクトのルートディレクトリに、以下のデータセットを配置してください。

movies_100k.csv (映画情報)

ratings_100k.csv (評価情報)

アプリケーションの起動
ターミナルで以下のコマンドを実行します。

Bash

python app.py
ブラウザで http://localhost:5000 にアクセスしてください。# -
